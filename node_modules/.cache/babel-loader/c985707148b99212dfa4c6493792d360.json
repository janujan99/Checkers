{"ast":null,"code":"var _jsxFileName = \"/Users/janujansritharan/Projects/Checkers-React/src/board.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./Square.css\";\nimport \"./Board.css\";\nimport \"./checkersState\";\nimport { Colour, TurnType, Turn, newState, getCaptureMoves, getNonCaptureMoves, makeMove } from \"./checkersState\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Square(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"square\",\n    onClick: props.onClick,\n    children: props.ch\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Square;\nexport function CheckerBoard() {\n  _s();\n\n  const [checkersState, setCheckersState] = useState({\n    gameState: newState(),\n    currentPieceClicked: {\n      x: -1,\n      y: -1\n    },\n    currentMovesDisplayed: [{\n      x: -1,\n      y: -1\n    }]\n  });\n\n  function getNewCheckersState(i, j) {\n    let board = checkersState.gameState.board;\n    let turn = checkersState.gameState.turn;\n    let square = board.grid[i][j];\n\n    if (square === null && checkersState.currentMovesDisplayed.some(move => move.x === j && move.y === i)) {\n      setCheckersState({\n        gameState: makeMove(checkersState.currentPieceClicked, {\n          x: j,\n          y: i\n        }, checkersState.gameState),\n        currentPieceClicked: {\n          x: -1,\n          y: -1\n        },\n        currentMovesDisplayed: [{\n          x: -1,\n          y: -1\n        }]\n      });\n    } else if (square != null && (square.colour === Colour.Red && turn === Turn.RedTurn || square.colour === Colour.Black && turn === Turn.BlackTurn) && checkersState.gameState.turnType === TurnType.Next) {\n      let allMoves = getCaptureMoves(square, board).concat(getNonCaptureMoves(square, board));\n      setCheckersState({\n        gameState: checkersState.gameState,\n        currentPieceClicked: square.position,\n        currentMovesDisplayed: allMoves\n      });\n    }\n  }\n\n  console.log(\"Render!\");\n  console.log(checkersState);\n  let bigboard = [];\n\n  for (let i = 0; i < 8; i++) {\n    let temp = [];\n\n    for (let j = 0; j < 8; j++) {\n      let square = checkersState.gameState.board.grid[i][j];\n      let chr = null;\n\n      if (square !== null) {\n        let col = square.colour === Colour.Red ? \"r\" : \"b\";\n        chr = square.hasPromoted ? col.toUpperCase() : col;\n      } else {\n        if (checkersState.currentMovesDisplayed.some(move => move.x === j && move.y === i)) chr = \".\";\n      }\n\n      temp.push( /*#__PURE__*/_jsxDEV(Square, {\n        ch: chr,\n        onClick: () => getNewCheckersState(i, j)\n      }, String(i) + String(j), false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this));\n    }\n\n    bigboard.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: temp\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bigboard\",\n    children: bigboard\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 10\n  }, this);\n}\n\n_s(CheckerBoard, \"8yUK21sEosfeCXdwGNVusAbLEGE=\");\n\n_c2 = CheckerBoard;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Square\");\n$RefreshReg$(_c2, \"CheckerBoard\");","map":{"version":3,"sources":["/Users/janujansritharan/Projects/Checkers-React/src/board.tsx"],"names":["React","useState","Colour","TurnType","Turn","newState","getCaptureMoves","getNonCaptureMoves","makeMove","Square","props","onClick","ch","CheckerBoard","checkersState","setCheckersState","gameState","currentPieceClicked","x","y","currentMovesDisplayed","getNewCheckersState","i","j","board","turn","square","grid","some","move","colour","Red","RedTurn","Black","BlackTurn","turnType","Next","allMoves","concat","position","console","log","bigboard","temp","chr","col","hasPromoted","toUpperCase","push","String"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Square.css\";\nimport \"./Board.css\";\nimport \"./checkersState\";\nimport {\n  Colour,\n  TurnType,\n  Turn,\n  Board,\n  Position,\n  Checker,\n  newState,\n  CheckersState,\n  isValidCoordinate,\n  isValidPiece,\n  getCaptureMoves,\n  getNonCaptureMoves,\n  makeMove,\n} from \"./checkersState\";\n\nfunction Square(props: any) {\n  return (\n    <div className=\"square\" onClick={props.onClick}>\n      {props.ch}\n    </div>\n  );\n}\n\nexport function CheckerBoard() {\n  const [checkersState, setCheckersState] = useState({\n    gameState: newState(),\n    currentPieceClicked: { x: -1, y: -1 },\n    currentMovesDisplayed: [{ x: -1, y: -1 }],\n  });\n\n  function getNewCheckersState(i: number, j: number) {\n    let board: Board = checkersState.gameState.board;\n    let turn: Turn = checkersState.gameState.turn;\n    let square: Checker | null = board.grid[i][j];\n    if (\n      square === null &&\n      checkersState.currentMovesDisplayed.some(\n        (move) => move.x === j && move.y === i\n      )\n    ) {\n      setCheckersState({\n        gameState: makeMove(\n          checkersState.currentPieceClicked,\n          { x: j, y: i },\n          checkersState.gameState\n        ),\n        currentPieceClicked: { x: -1, y: -1 },\n        currentMovesDisplayed: [{ x: -1, y: -1 }],\n      });\n    } else if (\n      square != null &&\n      ((square.colour === Colour.Red && turn === Turn.RedTurn) ||\n        (square.colour === Colour.Black && turn === Turn.BlackTurn)) &&\n      checkersState.gameState.turnType === TurnType.Next\n    ) {\n      let allMoves: Position[] = getCaptureMoves(square, board).concat(\n        getNonCaptureMoves(square, board)\n      );\n      setCheckersState({\n        gameState: checkersState.gameState,\n        currentPieceClicked: square.position,\n        currentMovesDisplayed: allMoves,\n      });\n    }\n  }\n  console.log(\"Render!\");\n  console.log(checkersState);\n  let bigboard = [];\n  for (let i = 0; i < 8; i++) {\n    let temp = [];\n    for (let j = 0; j < 8; j++) {\n      let square: Checker | null = checkersState.gameState.board.grid[i][j];\n      let chr: string | null = null;\n      if (square !== null) {\n        let col: string = square!.colour === Colour.Red ? \"r\" : \"b\";\n        chr = square!.hasPromoted ? col.toUpperCase() : col;\n      } else {\n        if (\n          checkersState.currentMovesDisplayed.some(\n            (move) => move.x === j && move.y === i\n          )\n        )\n          chr = \".\";\n      }\n      temp.push(\n        <Square\n          key={String(i) + String(j)}\n          ch={chr}\n          onClick={() => getNewCheckersState(i, j)}\n        />\n      );\n    }\n    bigboard.push(\n      <div key={i} className=\"row\">\n        {temp}\n      </div>\n    );\n  }\n  return <div className=\"bigboard\">{bigboard}</div>;\n}\n"]},"metadata":{},"sourceType":"module"}